# Slack自動メッセージ送信機能

特定の条件（平日および非祝日）においてSlackに自動でメッセージを送信するPythonスクリプト

## 目次
- [Slack自動メッセージ送信機能](#slack自動メッセージ送信機能)
  - [目次](#目次)
  - [実行環境](#実行環境)
  - [環境構築](#環境構築)
    - [1-1. ライブラリのインストール](#1-1-ライブラリのインストール)
    - [1-2. 環境変数の設定](#1-2-環境変数の設定)
  - [定期実行の設定（cronジョブ）](#定期実行の設定cronジョブ)
    - [1-1. crontabの編集](#1-1-crontabの編集)
    - [1-2. cron式の追加](#1-2-cron式の追加)
    - [1-3. cronジョブの確認](#1-3-cronジョブの確認)

## 実行環境
```
macOS 14.2.1
Python 3.9.5
```

## 環境構築

### 1-1. ライブラリのインストール
```
pip install requests python-dotenv jpholiday
```
### 1-2. 環境変数の設定
.envファイルをプロジェクトのルートディレクトリに作成し、以下の内容を追加します。
```
SLACK_TOKEN=あなたのSlackトークン
SLACK_CHANNEL=送信先のチャンネルID
SLACK_MESSAGE=送信するメッセージ内容
```

## 定期実行の設定（cronジョブ）
### 1-1. crontabの編集
ターミナルを開き、以下のコマンドを実行してcrontabの編集画面を開きます。
```
crontab -e
```

### 1-2. cron式の追加
編集画面で、Pythonスクリプトを平日（月曜から金曜）の特定の時間に実行するためのcron式を追加します。例えば、毎朝8時55分に実行するには以下のように設定します。
```
55 8 * * 1-5 /usr/bin/python3 /path/to/your_script.py
```
ここで、/usr/bin/python3はPythonインタープリタのパス（システムによって異なる場合があるため、which python3コマンドで確認できます）、/path/to/your_script.pyはPythonスクリプトの絶対パスに置き換えてください。

ステップ3: 設定の保存
設定を完了したら、編集画面を保存して閉じます。保存の方法はエディタによって異なりますが、多くの場合はCtrl + Oで保存し、Ctrl + Xで終了します。

### 1-3. cronジョブの確認
設定したcronジョブが正しく登録されていることを確認するには、以下のコマンドを実行します。
```
crontab -l
```


